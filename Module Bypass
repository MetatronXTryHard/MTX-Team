-- Anti Kick

local plr = game:GetService("Players").LocalPlayer

getgenv().Anti = true -- Re-Execute if you change it

local Anti
Anti = hookmetamethod(game, "__namecall", function(self, ...)
        if self == plr and getnamecallmethod():lower() == "kick" and getgenv().Anti then
            return warn("[ANTI-KICK] Cliente tentou chamar a função Kick no LocalPlayer")
        end
        return Anti(self, ...)
    end)
    
-- Anti Kick V2

local getgenv, getnamecallmethod, hookmetamethod, newcclosure, checkcaller, stringlower = getgenv, getnamecallmethod, hookmetamethod, newcclosure, checkcaller, string.lower
if getgenv().ED_AntiKick then
	return
end
local Players, StarterGui, OldNamecall = game:GetService("Players"), game:GetService("StarterGui")
getgenv().ED_AntiKick = {
	Enabled = true, -- Set to false if you want to disable the Anti-Kick.
	SendNotifications = true, -- Set to true if you want to get notified for every event
	CheckCaller = false -- Set to true if you want to disable kicking by other executed scripts
}
OldNamecall = hookmetamethod(game, "__namecall", newcclosure(function(...)
	if (getgenv().ED_AntiKick.CheckCaller and not checkcaller() or true) and stringlower(getnamecallmethod()) == "kick" and ED_AntiKick.Enabled then
		if getgenv().ED_AntiKick.SendNotifications then
			StarterGui:SetCore("SendNotification", {
				Title = "MTX Client [Dev Build]",
				Text = "O script interceptou com sucesso uma tentativa de Kick.",
				Icon = "rbxassetid://6238540373",
				Duration = 2,
			})
		end
		return nil
	end
	return OldNamecall(...)
end))
if getgenv().ED_AntiKick.SendNotifications then
	StarterGui:SetCore("SendNotification", {
		Title = "MTX Client [Dev Build]",
		Text = "Anti Cheat Bypass Loaded!",
		Icon = "rbxassetid://6238537240",
		Duration = 3,
	})
end
